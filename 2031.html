<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Dang ky tai khoan user</title>
	<style type="text/css">
		.container {
			width: 600px;
			background-color: #03befc;
			margin: 0px auto;
			padding: 10px;
		}
		.form-group, label, input {
			width: 100%;
			font-size: 15px;
		}
		.form-group {
			margin-bottom: 10px;
		}
	</style>
</head>
<body>
	<div class="container">
		<h3>Dang ky tai khoan user</h3>
		<form method="post">
			<div class="form-group">
				<label>User name:</label>
				<input type="text" name="username_id" placeholder="Nhap tai khoan">
			</div>
			<div class="form-group">
				<label>Full name:</label>
				<input type="text" name="fullname_id" placeholder="Nhap ten nguoi dung">
			</div>
			<div class="form-group">
				<label>Email:</label>
				<input type="Email" name="email_id" placeholder="Nhap Email">
			</div>
			<div class="form-group">
				<label>Birthday:</label>
				<input type="Birthday" name="birthday_id" placeholder="Nhap ngay sinh">
			</div>
			<div class="form-group">
				<button type="submit">Save</button>
				<button type="reset">Reset</button>
			</div>
		</form>
	</div>
	<div class="container" style="margin-top: 20px;">
		<table border="1" cellpadding="7 style="width: 100%;>
			<thead>
				<tr>
					<th>STT</th>
					<th>User Name</th>
					<th>Full Name</th>
					<th>Email</th>
					<th>Birthday</th>
					<th></th>
					<th></th>
				</tr>
			</thead>
			<tbody id="result">
			</tbody>
		</table>
	</div>
	<script type="text/javascript">
		var resultTag = document.getElementById('result')

		var userList = []

		function saveData() {
			var username = document.getElementById('username_id').value
			var fullname = document.getElementById('fullname_id').value
			var email = document.getElementById('email_id').value
			var birthday = document.getElementById('birthday_id').value

			var usn = {
				'username': username,
				'fullname': fullname,
				'email': email,
				'birthday': birthday
			}

			if(cIndex >=0){
				userList[cIndex] = usn
				cIndex = -1
			}else{
				userList.push(usn)
			}
			showData()
			return false
		}

		function showData(){
			resultTag.innerHTML = ``

			var index = 0
			for(usn of userList){
				resultTag.innerHTML += `<tr>
					<td>${index + 1}</td>
					<td>${usn.username}</td>
					<td>${usn.fullname}</td>
					<td>${usn.email}</td>
					<td>${usn.birthday}</td>
					<td>
						<button onclick ="editUser(${index})">Edit</button>
						<button onclick="removeUser(${index})">Delete</button>
					</td>
				</tr>`
				index++
			}
		}

		var cIndex = -1
		function editUser(index) {
			cIndex = index

			document.getElementById('username_id').value = userList[index].username
			document.getElementById('fullname_id').value = usertList[index].fullname
			document.getElementById('email_id').value = userList[index].email
			document.getElementById('birthday_id').value = userList[index].birthday
	}

		function removeUser(index) {
			var option = confirm('Ban chac chan muon xoa tai khoan nay khong?')
			if(!option) return

			usertList.splice(index, 1)

			showData()
	}
	</script>
</body>
</html>